/**
 * @authors ZiQiangWang (814120507@qq.com)
 * @date    2017-07-12 17:19:14
 */

@import 'variable.less';

.markdown-editor {
  
  display: flex;
  width: 100%;
  overflow: hidden;
  position: relative;
  border: @borderColor;
  // 响应式变化
  @media screen and (max-width: 960px){

    flex-direction: column !important;
  }

  .split {
    border-left: @borderColor;
    border-top: @borderColor;
  }
}

// 控制编辑部分和预览部分的显示
.disappear {
  display: none;
}

// 实时预览部分
.preview {
  overflow-y: auto;
  overflow-x: hidden;
  padding: 10px 20px 10px 20px;
  
  // 设置编辑器的字体
  .editor-font;
  // 设置盒模型
  .border-box;
  
  // markdown解析出来的结构，做样式调整
  blockquote {
    color: #666;
    margin: 1em 0;
    padding: 5px 10px;
    border-left: 10px #D6DBDF solid;
    background-color: rgba(102,128,153,.05);
    h1, h2, h3, h4, h5, h6, p {
      margin: 4px;
    }
  }

  pre {
    line-height: 1.5em;
    background-color: rgba(102,128,153,.05);
    overflow-x: auto;
    padding: 10px 20px;
    border-radius: 4px;
  }

  table {
    margin: 1em 0;
    width: 100%;
    border-collapse: collapse;
    border-spacing: 0;
    thead>tr>th,tbody>tr>td{
      padding: 8px;
      border: 1px solid #ddd;
    }
    tbody>tr:nth-child(even){
      background-color: hsla(0,0%,71%,.1);
    }
  }

  hr {
    height:1px;
    border:none;
    border-top:1px solid lightgray;
  }

  img {
    max-width: 100%;
  }
}

// 编辑器部分
.editor-container {
  overflow:hidden;
  position: relative;
  
  // 设置编辑器的字体
  .editor-font;
  // 设置盒模型
  .border-box;
  .markdown-bar {
    height: 48px;
    width: 100%;
    position: absolute;
    z-index: 50;
    line-height: 48px;
    overflow: hidden;
    transition: height .5s;

    .inner-bar {
      padding: 0 20px;
      overflow-x: hidden;
      overflow-y: auto;
      display: flex;
      height: 100%;
      width: calc(~"100% + 18px");
      flex-wrap: wrap;
    }
  }
  
  .show-nav {
    padding-top: 0px !important;
  }
  .ReactCodeMirror {
    height: 100%;
    padding-top: 48px;
    transition: padding-top .5s;
  }
  .CodeMirror {
    height: 100%;
    .CodeMirror-line {
      padding: 2px 20px;
    }
    .CodeMirror-scroll, .CodeMirror-sizer, .CodeMirror-gutter, .CodeMirror-gutters, .CodeMirror-linenumber {
      box-sizing: content-box !important;
    }
  }
}
